<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Java — HTTP 协议详解 &middot; 尹枭凌
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/naringu.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/form.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="shortcut icon" href="./public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  <link rel="alternate" type="application/rss+xml" title="Mozilla RSS" href="feed.category.xml">
  </head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48740529-1', 'auto');
  ga('send', 'pageview');

</script>


<body class="theme-6dd">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
      <img width="200" height="180" alt="A photo of ariestiyansyah" src="/images/head.jpeg">
    <p align="center">If I know what love is, <br />it is because of you.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">首页</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">关于我</a>
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/categories/">分类</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/contact/">联系方式</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    

    <a class="sidebar-nav-item" href="https://github.com/yinxiaoling">GitHub project</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>


    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">尹枭凌</a>
            <small>—因为有了因为，所以有了所以，既然已成既然，何必再问何必。</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Java — HTTP 协议详解</h1>
  <span class="post-date">12 Aug 2015</span>
  <h1>一、HTTP协议</h1>

<h5>超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。</h5>

<p>所有的WWW文件都必须遵守这个标准，它是TCP/IP协议的一个应用层协议，用于定义WEB浏览器与WEB服务器之间交换数据的过程。客户端连上WEB服务器之后，若想获得WEB服务器中的某个WEB资源，需要遵循一定的通讯格式，HTTP协议用于定义客户端与WEB服务器通讯的格式。</p>

<p>HTTP是一个应用层协议，由请求和响应构成，是一个标准的客户端服务器模型。</p>

<p>在TCP/IP协议栈中的位置：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">HTTP协议通常承载于TCP协议之上，有时也承载于TLS或SSL协议层之上，这个时候，就成了我们常说的HTTPS。默认HTTP的端口号为80，HTTPS的端口号为443。
</code></pre></div>
<p><img src="http://files.jb51.net/upload/201108/20110826201312465.jpg" alt="在TCP/IP协议栈中的位置"></p>

<h5>HTTP是一个无状态的协议</h5>

<p>无状态是指Web浏览器和Web服务器之间不需要建立持久的连接，这意味着当一个客户端向服务器端发出请求，然后Web服务器返回响应(response)，连接就被关闭了，在服务器端不保留连接的有关信息.HTTP遵循请求(Request)/应答(Response)模型。Web浏览器向Web服务器发送请求，Web服务器处理请求并返回适当的应答。所有HTTP连接都被构造成一套请求和应答。</p>

<p>HTTP协议的版本：HTTP/1.0、HTTP/1.1</p>

<p>在HTTP1.0协议中，客户端和WEB服务器建立连接后只能获取一个WEB资源。</p>

<p>在HTTP1.1协议中，客户端和WEB服务器建立连接后可以获取多个WEB资源。</p>

<h1>二、HTTP使用内容类型</h1>

<p>HTTP使用内容类型，是指Web服务器向Web浏览器返回的文件都有与之相关的类型。所有这些类型在MIME　Internet邮件协议上模型化，即Web服务器告诉Web浏览器该文件所具有的种类，是HTML文档、GIF格式图像、声音文件还是独立的应用程序。大多数Web浏览器都拥有一系列的可配置的辅助应用程序，它们告诉浏览器应该如何处理Web服务器发送过来的各种内容类型。</p>

<p>HTTP通信机制是在一次完整的HTTP通信过程中，Web浏览器与Web服务器之间将完成下列7个步骤：</p>

<h3>1、建立TCP连接</h3>

<p>在HTTP工作开始之前，WEB浏览器首先要通过网络与WEB服务器建立连接，该连接是通过TCP来完成的，该协议与IP协议共同构建Internet，即著名的TCP/IP协议族，因此Internet也被称作是TCP/IP网络。HTTP是比TCP更高层次的应用层协议，根据规则，只有低层次的协议建立之后才能进行更高层次协议的连接，因此首先建立TCP连接，一般TCP连接的端口号是80.</p>

<h3>2、WEB浏览器向WEB服务器发送请求命令</h3>

<p>一旦建立了TCP连接，Web浏览器就会向Web服务器发送请求命令</p>

<p>例如：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">GET/yinxiaoling/index.jsp HTTP/1.1
</code></pre></div>
<h3>3、WEB浏览器发送请求头信息</h3>

<p>浏览器发送请求命令之后，还要以头信息的形式向服务器发送一些其他信息，之后浏览器发送了一空白行来通知服务器，他已经结束了该头信息的发送。</p>

<h3>4、WEB服务器应答</h3>

<p>客户机向服务器发出请求后，服务器会客户机回送应答，</p>

<p>例如：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">HTTP/1.1 200 OK
</code></pre></div>
<p>应答的第一部分是协议的版本号和应答状态码</p>

<h3>5、WEB服务器发送应答头信息</h3>

<p>正如客户端会随同请求发送关于自身的信息一样，服务器也会随同应答向用户发送关于他自己的数据以及被请求的文档。</p>

<h3>6、WEB服务器向浏览器发送数据</h3>

<p>WEB服务器向浏览器发送应答头信息之后，他会发送一个空白行来表示应答头信息发送完毕，接着他以Content-Type应答头信息所描述的格式发送用户所请求的实际数据。</p>

<h3>7、WEB服务器关闭TCP连接</h3>

<p>一般情况下，一旦WEB服务器向浏览器发送了请求数据，他就要关闭TCP连接，但是如果浏览器或服务器在其头信息中加入：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Connection：keep-alive
</code></pre></div>
<p>TCP连接在服务器发送请求数据后仍然保持打开状态，于是，浏览器可以继续通过相同的连接发送请求。保持连接节省了为每个请求建立新连接所需要的时间，还节约了网络带宽。</p>

<h1>三、HTTP请求</h1>

<h2>HTTP请求格式</h2>

<p>当浏览器向WEB服务器发出请求时，他向服务器发送了一个数据块，也就是请求信息，请求信息由3部分组成：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">请求方法 URI协议/版本
请求头（Request Header）
请求正文
</code></pre></div>
<p>例：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">键                 值
请求              GET / HTTP/1.1
Accept              text/html, application/xhtml+xml, */*
Accept-Language     zh-CN
User-Agent          Mozilla/5.0 (MSIE 9.0; Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko
Accept-Encoding     gzip, deflate
Host                www.hao123.com
DNT                 1
Connection          Keep-Alive
Cookie              BAIDUID=0B2F8F42F5D75BB906EED9B7AB288E98:FG=1; static=1; loc2=1%7C%E5%8C%97%E4%BA%AC%7C%E5%8C%97%E4%BA%AC; HUM=; HUN=; scrollflag=1439715637971; mtip=0; FLASHID=0B2F8F42F5D75BB906EED9B7AB288E98:FG=1; toptip=0; hz=0

键                 值
请求              GET /v4/aL/tx/LU/Cn/ko/aLtxLUCnko.css HTTP/1.1
Accept              text/css, */*
Referer             http://www.hao123.com/
Accept-Language     zh-CN
User-Agent          Mozilla/5.0 (MSIE 9.0; Windows NT 6.1; WOW64; Trident/7.0; rv:11.0) like Gecko
Accept-Encoding     gzip, deflate
Host                s1.hao123img.com
DNT                 1
Connection          Keep-Alive
</code></pre></div>
<p>以上是访问hao123网站的部分HTTP请求信息。下面来详细解析：</p>

<h2>请求方法URI协议/版本</h2>
<div class="highlight"><pre><code class="language-text" data-lang="text">GET /v4/aL/tx/LU/Cn/ko/aLtxLUCnko.css HTTP/1.1

以上代码中：
&quot;GET&quot;表示请求方法

&quot;/v4/aL/tx/LU/Cn/ko/aLtxLUCnko.css&quot;
表示要请求的资源的URL，URL完整地指定了要访问的网络资源，通常只要给出相对于服务器的根目录的相对目录即可，因此总是以“/”开头。

&quot;HTTP/1.1&quot;表示协议和协议的版本。

Host头域指定请求资源的Intenet主机和端口号，必须表示请求url的原始服务器或网关的位置。HTTP/1.1请求必须包含主机头域，否则系统会以400状态码返回。

Referer头域允许客户端指定请求uri的源资源地址，这可以允许服务器生成回退链表，可用来登陆、优化cache等。他也允许废除的或错误的连接由于维护的目的被追踪。如果请求的uri没有自己的uri地址，Referer不能被发送。如果指定的是部分uri地址，则此地址应该是一个相对地址。


User-Agent头域的内容包含发出请求的用户信息。

Cache-Control指定请求和响应遵循的缓存机制。在请求消息或响应消息中设置Cache-Control并不会修改另一个消息处理过程中的缓存处理过程。请求时的缓存指令包括no-cache、no-store、max-age、max-stale、min-fresh、only-if-cached，响应消息中的指令包括public、private、no-cache、no-store、no-transform、must-revalidate、proxy-revalidate、max-age。


Date头域表示消息发送的时间，时间的描述格式由rfc822定义。例如，Date:Mon,31Dec200104:25:57GMT。Date描述的时间表示世界标准时，换算成本地时间，需要知道用户所在的时区。
</code></pre></div>
<p>Connection</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">一个传输层的实际环流，它是建立在两个相互通讯的应用程序之间。

在http1.1，request和reponse头中都有可能出现一个connection的头，此header的含义是当client和server通信时对于长链接如何进行处理。

在http1.1中，client和server都是默认对方支持长链接的， 如果client使用http1.1协议，但又不希望使用长链接，则需要在header中指明connection的值为close；如果server方也不想支持长链接，则在response中也需要明确说明connection的值为close。不论request还是response的header中包含了值为close的connection，都表明当前正在使用的tcp链接在当天请求处理完毕后会被断掉。以后client再进行新的请求时就必须创建新的tcp链接了。
</code></pre></div>
<p>Message</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">HTTP通讯的基本单位，包括一个结构化的八元组序列并通过连接传输。
</code></pre></div>
<p>Request</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">一个从客户端到服务器的请求信息包括应用于资源的方法、资源的标识符和协议的版本号。
</code></pre></div>
<p>响应：Response</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">一个从服务器返回的信息包括HTTP协议的版本号、请求的状态(例如“成功”或“没找到”)和文档的MIME类型。
</code></pre></div>
<p>资源：Resource</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">由URI标识的网络数据对象或服务。
</code></pre></div>
<p>实体：Entity</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">数据资源或来自服务资源的回映的一种特殊表示方法，它可能被包围在一个请求或响应信息中。一个实体包括实体头信息和实体的本身内容。
</code></pre></div>
<p>客户机：Client</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">一个为发送请求目的而建立连接的应用程序。
</code></pre></div>
<p>用户代理：UserAgent</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">初始化一个请求的客户机。它们是浏览器、编辑器或其它用户工具。
</code></pre></div>
<p>服务器：Server</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">一个接受连接并对请求返回信息的应用程序。
</code></pre></div>
<p>源服务器：Originserver</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">是一个给定资源可以在其上驻留或被创建的服务器。
</code></pre></div>
<p>代理：Proxy</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">一个中间程序，它可以充当一个服务器，也可以充当一个客户机，为其它客户机建立请求。请求是通过可能的翻译在内部或经过传递到其它的服务器中。一个代理在发送请求信息之前，必须解释并且如果可能重写它。 

代理经常作为通过防火墙的客户机端的门户，代理还可以作为一个帮助应用来通过协议处理没有被用户代理完成的请求。
</code></pre></div>
<p>网关：Gateway</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">一个作为其它服务器中间媒介的服务器。与代理不同的是，网关接受请求就好象对被请求的资源来说它就是源服务器；发出请求的客户机并没有意识到它在同网关打交道。 

网关经常作为通过防火墙的服务器端的门户，网关还可以作为一个协议翻译器以便存取那些存储在非HTTP系统中的资源。
</code></pre></div>
<p>通道：Tunnel</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">是作为两个连接中继的中介程序。一旦激活，通道便被认为不属于HTTP通讯，尽管通道可能是被一个HTTP请求初始化的。当被中继的连接两端关闭时，通道便消失。当一个门户(Portal)必须存在或中介(Intermediary)不能解释中继的通讯时通道被经常使用。
</code></pre></div>
<p>缓存：Cache</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">反应信息的局域存储。
</code></pre></div>
<p>根据HTTP标准,HTTP请求支持7种请求方法：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">GET/POST/HEAD/OPTIONS/PUT/DELETE/TARCE
</code></pre></div>
<p>在Internet应用中最常用的是GET和POST。</p>

<h5>GET请求</h5>

<p>GET方法是默认的HTTP请求方法，我们日常用GET方法来提交表单数据，然而用GET方法提交的表单数据只经过了简单的编码，同时它将作为URL的一部分向Web服务器发送，因此，如果使用GET方法来提交表单数据就存在着安全隐患上。例如
Http://127.0.0.1/login.jsp?Name=name&amp;Age=30&amp;Submit=%cc%E+%BD%BB
从上面的URL请求中，很容易就可以辩认出表单提交的内容。（？之后的内容）另外由于GET方法提交的数据是作为URL请求的一部分所以提交的数据量不能太大。</p>

<h5>POST请求</h5>

<p>POST方法是GET方法的一个替代方法，它主要是向Web服务器提交表单数据，尤其是大批量的数据。POST方法克服了GET方法的一些缺点。通过POST方法提交表单数据时，数据不是作为URL请求的一部分而是作为标准数据传送给Web服务器，这就克服了GET方法中的信息无法保密和数据量太小的缺点。因此，出于安全的考虑以及对用户隐私的尊重，通常表单提交时采用POST方法。</p>

<p>从编程的角度来讲，如果用户通过GET方法提交数据，则数据存放在QUERY＿STRING环境变量中，而POST方法提交的数据则可以从标准输入流中获取。</p>

<h4>请求头（Request Header）</h4>

<p>请求头包含许多有关客户端环境和请求正文的有用信息。例如：可以声明浏览器所使用的语言，请求正文的长度等等。</p>

<h4>请求正文</h4>

<p>请求头和正文之间有一个空行，此行非常重要，他表示请求头已经结束，接下来是请求正文。请求正文中可以包含客户提交的查询字符串信息等等。</p>

<h2>HTTP响应</h2>

<p>与HTTP请求相似，HTTP响应也由3个部分构成，分别是：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">协议状态版本代码描述
响应头(Response Header)
响应正文
</code></pre></div>
<p>下面是一个HTTP响应的例子：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">键                 值
响应                  HTTP/1.1 200 OK
Server              bfe/1.0.8.6
Date                Sun, 16 Aug 2015 09:25:32 GMT
Content-Type        text/plain
Transfer-Encoding   chunked
Connection          keep-alive
Expires             Thu, 11 Aug 2016 00:33:43 GMT
Age                 377509
Cache-Control       max-age=31536000
Ohc-Response-Time   1 0 0 0 0 0
</code></pre></div>
<p>协议状态代码描述HTTP响应的第一行类似于HTTP请求的第一行，它表示通信所用的协议是HTTP1.1服务器已经成功的处理了客户端发出的请求（200表示成功）:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">HTTP/1.1 200 OK
</code></pre></div>
<p>响应头(Response Header)响应头也和请求头一样包含许多有用的信息，例如服务器类型、日期时间、内容类型和长度等。</p>

<p>响应正文响应正文就是服务器返回的HTML页面。</p>

<h2>安全连接</h2>

<p>Web应用最常见的用途之一是电子商务，可以利用Web服务器端程序使人们能够网络购物，需要指出一点是，缺省情况下，通过Internet发送信息是不安全的，如果某人碰巧截获了你发给朋友的一则消息，他就能打开它，假想在里面有你的信用卡号码，这会有多么糟糕，幸运的是，很多Web服务器以及Web浏览器都有创立安全连接的能力，这样它们就可以安全的通信了。
通过Internet提供安全连接最常见的标准是安全套接层(Secure Sockets layer,SSL)协议。SSL协议是一个应用层协议(和HTTP一样)，用于安全方式在Web上交换数据，SSL使用公开密钥编码系统。从本质讲，这意味着业务中每一方都拥有一个公开的和一个私有的密钥。当一方使用另一方公开密钥进行编码时，只有拥有匹配密钥的人才能对其解码。简单来讲，公开密钥编码提供了一种用于在两方之间交换数据的安全方法，SSL连接建立之后，客户和服务器都交换公开密钥，并在进行业务联系之前进行验证，一旦双方的密钥都通过验证，就可以安全地交换数据。</p>

<p>GET
通过请求URI得到资源</p>

<p>POST,
用于添加新的内容</p>

<p>PUT
用于修改某个内容</p>

<p>DELETE,
删除某个内容</p>

<p>CONNECT,
用于代理进行传输，如使用SSL</p>

<p>OPTIONS
询问可以执行哪些方法</p>

<p>PATCH,
部分文档更改</p>

<p>PROPFIND, (wedav)
查看属性</p>

<p>PROPPATCH, (wedav)
设置属性</p>

<p>MKCOL, (wedav)
创建集合（文件夹）</p>

<p>COPY, (wedav)
拷贝</p>

<p>MOVE, (wedav)
移动</p>

<p>LOCK, (wedav)
加锁</p>

<p>UNLOCK (wedav)
解锁</p>

<p>TRACE
用于远程诊断服务器</p>

<p>HEAD
类似于GET, 但是不返回body信息，用于检查对象是否存在，以及得到对象的元数据</p>

<p>apache2中，可使用Limit，LimitExcept进行访问控制的方法包括：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">GET, POST, PUT, DELETE, CONNECT,OPTIONS, PATCH, PROPFIND, PROPPATCH, MKCOL, COPY, MOVE, LOCK, 和 UNLOCK.
</code></pre></div>
<p>其中, HEAD GET POST OPTIONS PROPFIND是和读取相关的方法，MKCOL PUT DELETE LOCK UNLOCK COPY MOVE PROPPATCH是和修改相关的方法。</p>

<h1>四、状态消息</h1>

<table log-set-param="table_view" class="table-view log-set-param">
<caption>1xx:信息 </caption><tr><th><div class="para">消息</div>
</th><th><div class="para">描述</div>
</th></tr><tr><td><div class="para">100 Continue</div>
</td><td><div class="para">服务器仅接收到部分请求，但是一旦服务器并没有拒绝该请求，客户端应该继续发送其余的请求。</div>
</td></tr><tr><td><div class="para">101 Switching Protocols</div>
</td><td><div class="para">服务器转换协议：服务器将遵从客户的请求转换到另外一种协议。</div>
</td></tr></table><table log-set-param="table_view" class="table-view log-set-param"><caption>2xx:成功 </caption><tr><th><div class="para">消息</div>
</th><th><div class="para">描述</div>
</th></tr><tr><td><div class="para">200 OK</div>
</td><td><div class="para">请求成功（其后是对GET和POST请求的应答文档。）</div>
</td></tr><tr><td><div class="para">201 Created</div>
</td><td><div class="para">请求被创建完成，同时新的资源被创建。</div>
</td></tr><tr><td><div class="para">202 Accepted</div>
</td><td><div class="para">供处理的请求已被接受，但是处理未完成。</div>
</td></tr><tr><td><div class="para">203 Non-authoritative Information</div>
</td><td><div class="para">文档已经正常地返回，但一些应答头可能不正确，因为使用的是文档的拷贝。</div>
</td></tr><tr><td><div class="para">204 No Content</div>
</td><td><div class="para">没有新文档。浏览器应该继续显示原来的文档。如果用户定期地刷新页面，而Servlet可以确定用户文档足够新，这个状态代码是很有用的。</div>
</td></tr><tr><td><div class="para">205 Reset Content</div>
</td><td><div class="para">没有新文档。但浏览器应该重置它所显示的内容。用来强制浏览器清除表单输入内容。</div>
</td></tr><tr><td><div class="para">206 Partial Content</div>
</td><td><div class="para">客户发送了一个带有Range头的GET请求，服务器完成了它。</div>
</td></tr></table><table log-set-param="table_view" class="table-view log-set-param"><caption>3xx:重定向  </caption><tr><th><div class="para">消息</div>
</th><th><div class="para">描述</div>
</th></tr><tr><td><div class="para">300 Multiple Choices</div>
</td><td><div class="para">多重选择。链接列表。用户可以选择某链接到达目的地。最多允许五个地址。</div>
</td></tr><tr><td><div class="para">301 Moved Permanently</div>
</td><td><div class="para">所请求的页面已经转移至新的url。</div>
</td></tr><tr><td><div class="para">302 Found</div>
</td><td><div class="para">所请求的页面已经临时转移至新的url。</div>
</td></tr><tr><td><div class="para">303 See Other</div>
</td><td><div class="para">所请求的页面可在别的url下被找到。</div>
</td></tr><tr><td><div class="para">304 Not Modified</div>
</td><td><div class="para">未按预期修改文档。客户端有缓冲的文档并发出了一个条件性的请求（一般是提供If-Modified-Since头表示客户只想比指定日期更新的文档）。服务器告诉客户，原来缓冲的文档还可以继续使用。</div>
</td></tr><tr><td><div class="para">305 Use Proxy</div>
</td><td><div class="para">客户请求的文档应该通过Location头所指明的代理服务器提取。</div>
</td></tr><tr><td><div class="para">306 <i>Unused</i></div>
</td><td><div class="para">此代码被用于前一版本。目前已不再使用，但是代码依然被保留。</div>
</td></tr><tr><td><div class="para">307 Temporary Redirect</div>
</td><td><div class="para">被请求的页面已经临时移至新的url。</div>
</td></tr></table><table log-set-param="table_view" class="table-view log-set-param"><caption>4xx:客户端错误 </caption><tr><th><div class="para">消息</div>
</th><th><div class="para">描述</div>
</th></tr><tr><td><div class="para">400 Bad Request</div>
</td><td><div class="para">服务器未能理解请求。</div>
</td></tr><tr><td><div class="para">401 Unauthorized</div>
</td><td><div class="para">被请求的页面需要用户名和密码。</div>
</td></tr><tr><td><div class="para">401.1</div>
</td><td><div class="para">登录失败。</div>
</td></tr><tr><td><div class="para">401.2</div>
</td><td><div class="para">服务器配置导致登录失败。</div>
</td></tr><tr><td><div class="para">401.3</div>
</td><td><div class="para">由于 ACL 对资源的限制而未获得授权。</div>
</td></tr><tr><td><div class="para">401.4</div>
</td><td><div class="para">筛选器授权失败。</div>
</td></tr><tr><td><div class="para">401.5</div>
</td><td><div class="para">ISAPI/CGI 应用程序授权失败。</div>
</td></tr><tr><td><div class="para">401.7</div>
</td><td><div class="para">访问被 Web 服务器上的 URL 授权策略拒绝。这个错误代码为 IIS 6.0 所专用。</div>
</td></tr><tr><td><div class="para">402 Payment Required</div>
</td><td><div class="para">此代码尚无法使用。</div>
</td></tr><tr><td><div class="para">403 Forbidden</div>
</td><td><div class="para">对被请求页面的访问被禁止。</div>
</td></tr><tr><td><div class="para">403.1</div>
</td><td><div class="para">执行访问被禁止。</div>
</td></tr><tr><td><div class="para">403.2</div>
</td><td><div class="para">读访问被禁止。</div>
</td></tr><tr><td><div class="para">403.3</div>
</td><td><div class="para">写访问被禁止。</div>
</td></tr><tr><td><div class="para">403.4</div>
</td><td><div class="para">要求 SSL。</div>
</td></tr><tr><td><div class="para">403.5</div>
</td><td><div class="para">要求 SSL 128。</div>
</td></tr><tr><td><div class="para">403.6</div>
</td><td><div class="para">IP 地址被拒绝。</div>
</td></tr><tr><td><div class="para">403.7</div>
</td><td><div class="para">要求客户端证书。</div>
</td></tr><tr><td><div class="para">403.8</div>
</td><td><div class="para">站点访问被拒绝。</div>
</td></tr><tr><td><div class="para">403.9</div>
</td><td><div class="para">用户数过多。</div>
</td></tr><tr><td><div class="para">403.10</div>
</td><td><div class="para">配置无效。</div>
</td></tr><tr><td><div class="para">403.11</div>
</td><td><div class="para">密码更改。</div>
</td></tr><tr><td><div class="para">403.12</div>
</td><td><div class="para">拒绝访问映射表。</div>
</td></tr><tr><td><div class="para">403.13</div>
</td><td><div class="para">客户端证书被吊销。</div>
</td></tr><tr><td><div class="para">403.14</div>
</td><td><div class="para">拒绝目录列表。</div>
</td></tr><tr><td><div class="para">403.15</div>
</td><td><div class="para">超出客户端访问许可。</div>
</td></tr><tr><td><div class="para">403.16</div>
</td><td><div class="para">客户端证书不受信任或无效。</div>
</td></tr><tr><td><div class="para">403.17</div>
</td><td><div class="para">客户端证书已过期或尚未生效。</div>
</td></tr><tr><td><div class="para">403.18</div>
</td><td><div class="para">在当前的应用程序池中不能执行所请求的 URL。这个错误代码为 IIS 6.0 所专用。</div>
</td></tr><tr><td><div class="para">403.19</div>
</td><td><div class="para">不能为这个应用程序池中的客户端执行 CGI。这个错误代码为 IIS 6.0 所专用。</div>
</td></tr><tr><td><div class="para">403.20</div>
</td><td><div class="para">Passport 登录失败。这个错误代码为 IIS 6.0 所专用。</div>
</td></tr><tr><td><div class="para">404 Not Found</div>
</td><td><div class="para">服务器无法找到被请求的页面。</div>
</td></tr><tr><td><div class="para">404.0</div>
</td><td><div class="para">（无）–没有找到文件或目录。</div>
</td></tr><tr><td><div class="para">404.1</div>
</td><td><div class="para">无法在所请求的端口上访问 Web 站点。</div>
</td></tr><tr><td><div class="para">404.2</div>
</td><td><div class="para">Web 服务扩展锁定策略阻止本请求。</div>
</td></tr><tr><td><div class="para">404.3</div>
</td><td><div class="para">MIME 映射策略阻止本请求。</div>
</td></tr><tr><td><div class="para">405 Method Not Allowed</div>
</td><td><div class="para">请求中指定的方法不被允许。</div>
</td></tr><tr><td><div class="para">406 Not Acceptable</div>
</td><td><div class="para">服务器生成的响应无法被客户端所接受。</div>
</td></tr><tr><td><div class="para">407 Proxy Authentication Required</div>
</td><td><div class="para">用户必须首先使用代理服务器进行验证，这样请求才会被处理。</div>
</td></tr><tr><td><div class="para">408 Request Timeout</div>
</td><td><div class="para">请求超出了服务器的等待时间。</div>
</td></tr><tr><td><div class="para">409 Conflict</div>
</td><td><div class="para">由于冲突，请求无法被完成。</div>
</td></tr><tr><td><div class="para">410 Gone</div>
</td><td><div class="para">被请求的页面不可用。</div>
</td></tr><tr><td><div class="para">411 Length Required</div>
</td><td><div class="para">&quot;Content-Length&quot; 未被定义。如果无此内容，服务器不会接受请求。</div>
</td></tr><tr><td><div class="para">412 Precondition Failed</div>
</td><td><div class="para">请求中的前提条件被服务器评估为失败。</div>
</td></tr><tr><td><div class="para">413 Request Entity Too Large</div>
</td><td><div class="para">由于所请求的实体的太大，服务器不会接受请求。</div>
</td></tr><tr><td><div class="para">414 Request-url Too Long</div>
</td><td><div class="para">由于url太长，服务器不会接受请求。当post请求被转换为带有很长的查询信息的get请求时，就会发生这种情况。</div>
</td></tr><tr><td><div class="para">415 Unsupported Media Type</div>
</td><td><div class="para">由于媒介类型不被支持，服务器不会接受请求。</div>
</td></tr><tr><td><div class="para">416 Requested Range Not Satisfiable</div>
</td><td><div class="para">服务器不能满足客户在请求中指定的Range头。</div>
</td></tr><tr><td><div class="para">417 Expectation Failed</div>
</td><td><div class="para">执行失败。</div>
</td></tr><tr><td><div class="para">423</div>
</td><td><div class="para">锁定的错误。</div>
</td></tr></table><table log-set-param="table_view" class="table-view log-set-param" width="99%"><caption>5xx:服务器错误 </caption><tr><th><div class="para">消息</div>
</th><th><div class="para">描述</div>
</th></tr><tr><td width="0" align="left" valign="center"><div class="para">500 Internal Server Error</div>
</td><td width="0" align="left" valign="center"><div class="para">请求未完成。服务器遇到不可预知的情况。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">500.12</div>
</td><td width="0" align="left" valign="center"><div class="para">应用程序正忙于在 Web 服务器上重新启动。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">500.13</div>
</td><td width="0" align="left" valign="center"><div class="para">Web 服务器太忙。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">500.15</div>
</td><td width="0" align="left" valign="center"><div class="para">不允许直接请求 Global.asa。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">500.16</div>
</td><td width="0" align="left" valign="center"><div class="para">UNC 授权凭据不正确。这个错误代码为 IIS 6.0 所专用。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">500.18</div>
</td><td width="0" align="left" valign="center"><div class="para">URL 授权存储不能打开。这个错误代码为 IIS 6.0 所专用。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">500.100</div>
</td><td width="0" align="left" valign="center"><div class="para">内部 ASP 错误。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">501 Not Implemented</div>
</td><td width="0" align="left" valign="center"><div class="para">请求未完成。服务器不支持所请求的功能。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">502 Bad Gateway</div>
</td><td width="0" align="left" valign="center"><div class="para">请求未完成。服务器从上游服务器收到一个无效的响应。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">502.1</div>
</td><td width="0" align="left" valign="center"><div class="para">CGI 应用程序超时。　·</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">502.2</div>
</td><td width="0" align="left" valign="center"><div class="para">CGI 应用程序出错。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">503 Service Unavailable</div>
</td><td width="0" align="left" valign="center"><div class="para">请求未完成。服务器临时过载或当机。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">504 Gateway Timeout</div>
</td><td width="0" align="left" valign="center"><div class="para">网关超时。</div>
</td></tr><tr><td width="0" align="left" valign="center"><div class="para">505 HTTP Version Not Supported</div>
</td><td width="0" align="left" valign="center"><div class="para">服务器不支持请求中指明的HTTP协议版本。</div></td></tr></table>

<h1>五、HTTP协议相关技术补充</h1>

<h2>高层协议</h2>

<p>文件传输协议：FTP</p>

<p>电子邮件传输协议：SMTP</p>

<p>域名系统服务：DNS</p>

<p>网络新闻传输协议：NNTP和HTTP等</p>

<h2>中介协议</h2>

<p>代理：Proxy</p>

<p>代理根据URI的绝对格式来接受请求，重写全部或部分消息，通过 URI的标识把已格式化过的请求发送到服务器。</p>

<p>代理(Proxy)：一个中间程序，它可以充当一个服务器，也可以充当一个客户机，为其它客户机建立请求。请求是通过可能的翻译在内部或经过传递到其它的 服务器中。一个代理在发送请求信息之前，必须解释并且如果可能重写它。代理经常作为通过防火墙的客户机端的门户，代理还可以作为一个帮助应用来通过协议处 理没有被用户代理完成的请求。</p>

<p>网关：Gateway</p>

<p>网关是一个接收代理，作为一些其它服务器的上层，并且如果必须的话，可以把请求翻译给下层的服务器协议。</p>

<p>网关(Gateway)：一个作为其它服务器中间媒介的服务器。与代理不同的是，网关接受请求就好象对被请求的资源来说它就是源服务器；发出请求的客户机并没有意识到它在同网关打交道。
网关经常作为通过防火墙的服务器端的门户，网关还可以作为一个协议翻译器以便存取那些存储在非HTTP系统中的资源。</p>

<p>通道：Tunnel</p>

<p>通道作为不改变消息的两个连接之间的中继点。当通讯需要通过一个中介(例如：防火墙等)或者是中介不能识别消息的内容时，通道经常被使用。</p>

<p>通道(Tunnel)：是作为两个连接中继的中介程序。一旦激活，通道便被认为不属于HTTP通讯，尽管通道可能是被一个HTTP请求初始化的。当被中继 的连接两端关闭时，通道便消失。当一个门户(Portal)必须存在或中介(Intermediary)不能解释中继的通讯时通道被经常使用。</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/framework/2015/08/18/Java-Iocxiangjie/">
            Framework — IOC详解
            <small>18 Aug 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/git/2015/08/06/Git-Git-command/">
            Git — Git常用命令速查表
            <small>06 Aug 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/others/2015/08/01/other-qizongzui/">
            Others — 让你此生难成大器的七宗罪
            <small>01 Aug 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

<div class="comments">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'testnaringu';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'testnaringu';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>

    <div align="center" class="footer">
        Copyright © 2015 <br>
    </div>
  </body>
</html>

