(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{182:function(t,e,r){"use strict";r.r(e);var i=r(0),a=Object(i.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),r("p",[t._v("答：整体原则上，尽量保持镜像功能的明确和内容的精简，要点包括")]),t._v(" "),t._m(9),t._v(" "),r("p",[t._v("更多内容请查看 "),r("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/appendix/best_practices.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Dockerfile 最佳实践"),r("OutboundLink")],1)]),t._v(" "),t._m(10),t._v(" "),t._m(11)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"附录一：常见问题总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#附录一：常见问题总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 附录一：常见问题总结")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"镜像相关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像相关","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像相关")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"如何批量清理临时镜像文件？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何批量清理临时镜像文件？","aria-hidden":"true"}},[this._v("#")]),this._v(" 如何批量清理临时镜像文件？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("答：可以使用 "),e("code",[this._v("docker image prune")]),this._v(" 命令。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"如何查看镜像支持的环境变量？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何查看镜像支持的环境变量？","aria-hidden":"true"}},[this._v("#")]),this._v(" 如何查看镜像支持的环境变量？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("答：可以使用 "),e("code",[this._v("docker run IMAGE env")]),this._v(" 命令。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"本地的镜像文件都存放在哪里？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本地的镜像文件都存放在哪里？","aria-hidden":"true"}},[this._v("#")]),this._v(" 本地的镜像文件都存放在哪里？")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("答：与 Docker 相关的本地资源默认存放在 "),r("code",[t._v("/var/lib/docker/")]),t._v(" 目录下，以 "),r("code",[t._v("aufs")]),t._v(" 文件系统为例，其中 "),r("code",[t._v("container")]),t._v(" 目录存放容器信息，"),r("code",[t._v("graph")]),t._v(" 目录存放镜像信息，"),r("code",[t._v("aufs")]),t._v(" 目录下存放具体的镜像层文件。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"构建-docker-镜像应该遵循哪些原则？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建-docker-镜像应该遵循哪些原则？","aria-hidden":"true"}},[this._v("#")]),this._v(" 构建 Docker 镜像应该遵循哪些原则？")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("尽量选取满足需求但较小的基础系统镜像，例如大部分时候可以选择 debian:wheezy 或 debian:stretch 镜像，仅有不足百兆大小；")]),t._v(" "),r("li",[t._v("清理编译生成文件、安装包的缓存等临时文件；")]),t._v(" "),r("li",[t._v("安装各个软件时候要指定准确的版本号，并避免引入不需要的依赖；")]),t._v(" "),r("li",[t._v("从安全角度考虑，应用要尽量使用系统的库和依赖；")]),t._v(" "),r("li",[t._v("如果安装应用时候需要配置一些特殊的环境变量，在安装后要还原不需要保持的变量值；")]),t._v(" "),r("li",[t._v("使用 Dockerfile 创建镜像时候要添加 .dockerignore 文件或使用干净的工作目录。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"碰到网络问题，无法-pull-镜像，命令行指定-http-proxy-无效？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#碰到网络问题，无法-pull-镜像，命令行指定-http-proxy-无效？","aria-hidden":"true"}},[this._v("#")]),this._v(" 碰到网络问题，无法 pull 镜像，命令行指定 http_proxy 无效？")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("答：在 Docker 配置文件中添加 "),e("code",[this._v('export http_proxy="http://<PROXY_HOST>:<PROXY_PORT>"')]),this._v("，之后重启 Docker 服务即可。")])}],!1,null,null,null);a.options.__file="appendix.1.md";e.default=a.exports}}]);