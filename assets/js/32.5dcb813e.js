(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{181:function(t,e,s){"use strict";s.r(e);var r=s(0),a=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("Docker 分为 CE 和 EE 两大版本。CE 即社区版（免费，支持周期 7 个月），EE 即企业版，强调安全，付费使用，支持周期 24 个月。")]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("官方网站上有各种环境下的 "),s("a",{attrs:{href:"https://docs.docker.com/engine/installation/",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装指南"),s("OutboundLink")],1),t._v("，这里主要介绍 Docker CE 在 Linux 、Windows 10 (PC) 和 macOS 上的安装。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),s("p",[t._v("执行以下命令安装依赖包：")]),t._v(" "),t._m(11),s("p",[t._v("鉴于国内网络问题，强烈建议使用国内源，官方源请在注释中查看。")]),t._v(" "),t._m(12),t._v(" "),t._m(13),s("p",[t._v("如果需要测试版本的 Docker CE 请使用以下命令：")]),t._v(" "),t._m(14),s("p",[t._v("如果需要每日构建版本的 Docker CE 请使用以下命令：")]),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),s("p",[t._v("在测试或开发环境中 Docker 官方为了简化安装流程，提供了一套便捷的安装脚本，CentOS 系统上可以使用这套脚本安装：")]),t._v(" "),t._m(20),s("p",[t._v("执行这个命令后，脚本就会自动的将一切准备工作做好，并且把 Docker CE 的 Edge 版本安装在系统中。")]),t._v(" "),t._m(21),t._v(" "),t._m(22),t._m(23),t._v(" "),s("p",[t._v("默认情况下，"),s("code",[t._v("docker")]),t._v(" 命令会使用 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Unix_domain_socket",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unix socket"),s("OutboundLink")],1),t._v(" 与 Docker 引擎通讯。而只有 "),s("code",[t._v("root")]),t._v(" 用户和 "),s("code",[t._v("docker")]),t._v(" 组的用户才可以访问 Docker 引擎的 Unix socket。出于安全考虑，一般 Linux 系统上不会直接使用 "),s("code",[t._v("root")]),t._v(" 用户。因此，更好地做法是将需要使用 "),s("code",[t._v("docker")]),t._v(" 的用户加入 "),s("code",[t._v("docker")]),t._v(" 用户组。")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),s("p",[t._v("退出当前终端并重新登录，进行如下测试。")]),t._v(" "),t._m(28),t._v(" "),t._m(29),s("p",[t._v("若能正常输出以上信息，则说明安装成功。")]),t._v(" "),t._m(30),t._v(" "),s("p",[t._v("如果在使用过程中发现拉取 Docker 镜像十分缓慢，可以配置 Docker "),s("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/content/install/mirror.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("国内镜像加速"),s("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(31),t._v(" "),s("p",[t._v("如果在 CentOS 使用 Docker CE 看到下面的这些警告信息：")]),t._v(" "),t._m(32),s("p",[t._v("请添加内核配置参数以启用这些功能。")]),t._v(" "),t._m(33),t._m(34),t._v(" "),t._m(35),t._m(36),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/centos/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker 官方 CentOS 安装文档"),s("OutboundLink")],1),t._v("。")])]),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),s("p",[s("a",{attrs:{href:"https://docs.docker.com/docker-for-mac/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker for Mac"),s("OutboundLink")],1),t._v(" 要求系统最低为 macOS El Capitan 10.11。")]),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),s("p",[s("a",{attrs:{href:"https://brew.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Homebrew"),s("OutboundLink")],1),t._v(" 的 "),s("a",{attrs:{href:"https://caskroom.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cask"),s("OutboundLink")],1),t._v(" 已经支持 Docker for Mac，因此可以很方便的使用 Homebrew Cask 来进行安装：")]),t._v(" "),t._m(41),t._m(42),t._v(" "),s("p",[t._v("如果需要手动下载，请点击以下链接下载 "),s("a",{attrs:{href:"https://download.docker.com/mac/stable/Docker.dmg",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stable"),s("OutboundLink")],1),t._v(" 或 "),s("a",{attrs:{href:"https://download.docker.com/mac/edge/Docker.dmg",target:"_blank",rel:"noopener noreferrer"}},[t._v("Edge"),s("OutboundLink")],1),t._v(" 版本的 Docker for Mac。")]),t._v(" "),s("p",[t._v("如同 macOS 其它软件一样，安装也非常简单，双击下载的 "),s("code",[t._v(".dmg")]),t._v(" 文件，然后将那只叫 "),s("a",{attrs:{href:"https://blog.docker.com/2013/10/call-me-moby-dock/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Moby"),s("OutboundLink")],1),t._v(" 的鲸鱼图标拖拽到 "),s("code",[t._v("Application")]),t._v(" 文件夹即可（其间需要输入用户密码）。")]),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),s("p",[t._v("从应用中找到 Docker 图标并点击运行。")]),t._v(" "),t._m(45),t._v(" "),s("p",[t._v("运行之后，会在右上角菜单栏看到多了一个鲸鱼图标，这个图标表明了 Docker 的运行状态。")]),t._v(" "),t._m(46),t._v(" "),s("p",[t._v('第一次点击图标，可能会看到这个安装成功的界面，点击 "Got it!" 可以关闭这个窗口。')]),t._v(" "),t._m(47),t._v(" "),s("p",[t._v("以后每次点击鲸鱼图标会弹出操作菜单。")]),t._v(" "),t._m(48),t._v(" "),s("p",[t._v("启动终端后，通过命令可以检查安装后的 Docker 版本。")]),t._v(" "),t._m(49),s("p",[t._v("如果 "),s("code",[t._v("docker version")]),t._v("、"),s("code",[t._v("docker info")]),t._v(" 都正常的话，可以尝试运行一个 "),s("a",{attrs:{href:"https://hub.docker.com/_/nginx/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nginx 服务器"),s("OutboundLink")],1),t._v("：")]),t._v(" "),t._m(50),s("p",[t._v("服务运行后，可以访问 "),s("a",{attrs:{href:"http://localhost/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost"),s("OutboundLink")],1),t._v('，如果看到了 "Welcome to nginx!"，就说明 Docker for Mac 安装成功了。')]),t._v(" "),t._m(51),t._v(" "),s("p",[t._v("要停止 Nginx 服务器并删除执行下面的命令：")]),t._v(" "),t._m(52),t._m(53),t._v(" "),s("p",[t._v("如果在使用过程中发现拉取 Docker 镜像十分缓慢，可以配置 Docker "),s("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/content/install/mirror.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("国内镜像加速"),s("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),s("p",[s("a",{attrs:{href:"https://docs.docker.com/docker-for-windows/install/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker for Windows"),s("OutboundLink")],1),t._v(" 支持 64 位版本的 Windows 10 Pro，且必须开启 Hyper-V。")]),t._v(" "),t._m(56),t._v(" "),s("p",[t._v("点击以下链接下载 "),s("a",{attrs:{href:"https://download.docker.com/win/stable/Docker%20for%20Windows%20Installer.exe",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stable"),s("OutboundLink")],1),t._v(" 或 "),s("a",{attrs:{href:"https://download.docker.com/win/edge/Docker%20for%20Windows%20Installer.exe",target:"_blank",rel:"noopener noreferrer"}},[t._v("Edge"),s("OutboundLink")],1),t._v(" 版本的 Docker for Windows。")]),t._v(" "),s("p",[t._v("下载好之后双击 Docker for Windows Installer.exe 开始安装。")]),t._v(" "),t._m(57),t._v(" "),s("p",[t._v("在 Windows 搜索栏输入 Docker 点击 Docker for Windows 开始运行。")]),t._v(" "),t._m(58),t._v(" "),s("p",[t._v("Docker CE 启动之后会在 Windows 任务栏出现鲸鱼图标。")]),t._v(" "),t._m(59),t._v(" "),s("p",[t._v("等待片刻，点击 Got it 开始使用 Docker CE。")]),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),s("p",[t._v("如果在使用过程中发现拉取 Docker 镜像十分缓慢，可以配置 Docker "),s("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/content/install/mirror.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("国内镜像加速"),s("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),s("p",[t._v("Docker CE 支持以下版本的 "),s("a",{attrs:{href:"https://www.ubuntu.com/server",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ubuntu"),s("OutboundLink")],1),t._v(" 操作系统：")]),t._v(" "),t._m(66),t._v(" "),s("p",[t._v("Docker CE 可以安装在 64 位的 x86 平台或 ARM 平台上。Ubuntu 发行版中，LTS（Long-Term-Support）长期支持版本，会获得 5 年的升级维护支持，这样的版本会更稳定，因此在生产环境中推荐使用 LTS 版本。")]),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._m(70),t._v(" "),t._m(71),t._v(" "),s("p",[t._v("如果系统没有安装可选内核模块的话，可以执行下面的命令来安装可选内核模块包：")]),t._v(" "),t._m(72),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),s("p",[t._v("鉴于国内网络问题，强烈建议使用国内源，官方源请在注释中查看。")]),t._v(" "),t._m(78),t._v(" "),t._m(79),t._m(80),t._v(" "),t._m(81),t._m(82),t._v(" "),t._m(83),t._v(" "),t._m(84),t._v(" "),t._m(85),t._m(86),t._v(" "),s("p",[t._v("在测试或开发环境中 Docker 官方为了简化安装流程，提供了一套便捷的安装脚本，Ubuntu 系统上可以使用这套脚本安装：")]),t._v(" "),t._m(87),s("p",[t._v("执行这个命令后，脚本就会自动的将一切准备工作做好，并且把 Docker CE 的 Edge 版本安装在系统中。")]),t._v(" "),t._m(88),t._v(" "),t._m(89),s("p",[t._v("Ubuntu 14.04 请使用以下命令启动：")]),t._v(" "),t._m(90),t._m(91),t._v(" "),s("p",[t._v("默认情况下，"),s("code",[t._v("docker")]),t._v(" 命令会使用 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Unix_domain_socket",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unix socket"),s("OutboundLink")],1),t._v(" 与 Docker 引擎通讯。而只有 "),s("code",[t._v("root")]),t._v(" 用户和 "),s("code",[t._v("docker")]),t._v(" 组的用户才可以访问 Docker 引擎的 Unix socket。出于安全考虑，一般 Linux 系统上不会直接使用 "),s("code",[t._v("root")]),t._v(" 用户。因此，更好地做法是将需要使用 "),s("code",[t._v("docker")]),t._v(" 的用户加入 "),s("code",[t._v("docker")]),t._v(" 用户组。")]),t._v(" "),t._m(92),t._v(" "),t._m(93),t._m(94),t._v(" "),t._m(95),s("p",[t._v("退出当前终端并重新登录，进行如下测试。")]),t._v(" "),t._m(96),t._v(" "),t._m(97),s("p",[t._v("若能正常输出以上信息，则说明安装成功。")]),t._v(" "),t._m(98),t._v(" "),s("p",[t._v("如果在使用过程中发现拉取 Docker 镜像十分缓慢，可以配置 Docker "),s("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/content/install/mirror.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("国内镜像加速"),s("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(99),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker 官方 Ubuntu 安装文档"),s("OutboundLink")],1)])]),t._v(" "),t._m(100),t._v(" "),t._m(101),t._v(" "),t._m(102),t._v(" "),t._m(103),t._v(" "),s("p",[t._v("Docker CE 支持以下版本的 "),s("a",{attrs:{href:"https://www.debian.org/intro/about",target:"_blank",rel:"noopener noreferrer"}},[t._v("Debian"),s("OutboundLink")],1),t._v(" 操作系统：")]),t._v(" "),t._m(104),t._v(" "),t._m(105),t._v(" "),t._m(106),t._v(" "),t._m(107),t._m(108),t._v(" "),s("p",[t._v("Debian 7 的内核默认为 3.2，为了满足 Docker CE 的需求，应该安装 "),s("a",{attrs:{href:"https://backports.debian.org/Instructions/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("backports")]),s("OutboundLink")],1),t._v(" 的内核。")]),t._v(" "),t._m(109),t._v(" "),s("p",[t._v("由于 apt 源使用 HTTPS 以确保软件下载过程中不被篡改。因此，我们首先需要添加使用 HTTPS 传输的软件包以及 CA 证书。")]),t._v(" "),s("p",[t._v("Debian 8 Jessie 或者 Debian 9 Stretch 使用以下命令:")]),t._v(" "),t._m(110),s("p",[t._v("Debian 7 Wheezy 使用以下命令：")]),t._v(" "),t._m(111),s("p",[t._v("鉴于国内网络问题，强烈建议使用国内源，官方源请在注释中查看。")]),t._v(" "),s("p",[t._v("为了确认所下载软件包的合法性，需要添加软件源的 GPG 密钥。")]),t._v(" "),t._m(112),t._m(113),t._v(" "),t._m(114),t._m(115),t._v(" "),s("p",[t._v("Debian 7 需要进行额外的操作：")]),t._v(" "),t._m(116),t._v(" "),t._m(117),t._m(118),t._v(" "),t._m(119),t._v(" "),t._m(120),t._m(121),t._v(" "),s("p",[t._v("在测试或开发环境中 Docker 官方为了简化安装流程，提供了一套便捷的安装脚本，Debian 系统上可以使用这套脚本安装：")]),t._v(" "),t._m(122),s("p",[t._v("执行这个命令后，脚本就会自动的将一切准备工作做好，并且把 Docker CE 的 Edge 版本安装在系统中。")]),t._v(" "),t._m(123),t._v(" "),t._m(124),s("p",[t._v("Debian 7 Wheezy 请使用以下命令启动")]),t._v(" "),t._m(125),t._m(126),t._v(" "),s("p",[t._v("默认情况下，"),s("code",[t._v("docker")]),t._v(" 命令会使用 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Unix_domain_socket",target:"_blank",rel:"noopener noreferrer"}},[t._v("Unix socket"),s("OutboundLink")],1),t._v(" 与 Docker 引擎通讯。而只有 "),s("code",[t._v("root")]),t._v(" 用户和 "),s("code",[t._v("docker")]),t._v(" 组的用户才可以访问 Docker 引擎的 Unix socket。出于安全考虑，一般 Linux 系统上不会直接使用 "),s("code",[t._v("root")]),t._v(" 用户。因此，更好地做法是将需要使用 "),s("code",[t._v("docker")]),t._v(" 的用户加入 "),s("code",[t._v("docker")]),t._v(" 用户组。")]),t._v(" "),t._m(127),t._v(" "),t._m(128),t._m(129),t._v(" "),t._m(130),s("p",[t._v("退出当前终端并重新登录，进行如下测试。")]),t._v(" "),t._m(131),t._v(" "),t._m(132),s("p",[t._v("若能正常输出以上信息，则说明安装成功。")]),t._v(" "),t._m(133),t._v(" "),s("p",[t._v("如果在使用过程中发现拉取 Docker 镜像十分缓慢，可以配置 Docker "),s("a",{attrs:{href:"https://yeasy.gitbooks.io/docker_practice/content/install/mirror.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("国内镜像加速"),s("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(134),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/debian/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker 官方 Debian 安装文档"),s("OutboundLink")],1)])]),t._v(" "),t._m(135),t._v(" "),s("p",[t._v("国内从 Docker Hub 拉取镜像有时会遇到困难，此时可以配置镜像加速器。Docker 官方和国内很多云服务商都提供了国内加速器服务，例如：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.docker.com/registry/recipes/mirror/#use-case-the-china-registry-mirror",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker 官方提供的中国 registry mirror "),s("code",[t._v("https://registry.docker-cn.com")]),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://cr.console.aliyun.com/cn-hangzhou/mirrors",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里云加速器(需登录账号获取)"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://kirk-enterprise.github.io/hub-docs/#/user-guide/mirror",target:"_blank",rel:"noopener noreferrer"}},[t._v("七牛云加速器 "),s("code",[t._v("https://reg-mirror.qiniu.com/")]),s("OutboundLink")],1)])]),t._v(" "),t._m(136),t._v(" "),t._m(137),t._v(" "),t._m(138),t._v(" "),s("p",[t._v("对于使用 "),s("a",{attrs:{href:"http://upstart.ubuntu.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("upstart"),s("OutboundLink")],1),t._v(" 的系统而言，编辑 "),s("code",[t._v("/etc/default/docker")]),t._v(" 文件，在其中的 "),s("code",[t._v("DOCKER_OPTS")]),t._v(" 中配置加速器地址：")]),t._v(" "),t._m(139),s("p",[t._v("重新启动服务。")]),t._v(" "),t._m(140),t._m(141),t._v(" "),s("p",[t._v("对于使用 "),s("a",{attrs:{href:"https://www.freedesktop.org/wiki/Software/systemd/",target:"_blank",rel:"noopener noreferrer"}},[t._v("systemd"),s("OutboundLink")],1),t._v(" 的系统，请在 "),s("code",[t._v("/etc/docker/daemon.json")]),t._v(" 中写入如下内容（如果文件不存在请新建该文件）")]),t._v(" "),t._m(142),t._m(143),t._v(" "),s("p",[t._v("之后重新启动服务。")]),t._v(" "),t._m(144),t._m(145),t._v(" "),t._m(146),t._v(" "),t._m(147),t._v(" "),t._m(148),t._v(" "),t._m(149),t._v(" "),t._m(150),t._v(" "),t._m(151),t._v(" "),t._m(152)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"安装-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装 Docker")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Docker CE 分为 "),s("strong",[t._v("stable")]),t._v(", "),s("strong",[t._v("test")]),t._v(", 和 "),s("strong",[t._v("nightly")]),t._v(" 三个更新频道。每六个月发布一个 "),s("strong",[t._v("stable")]),t._v(" 版本 (18.09, 19.03, 19.09...)。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"centos-安装-docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos-安装-docker-ce","aria-hidden":"true"}},[this._v("#")]),this._v(" CentOS 安装 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("警告：切勿在没有配置 Docker YUM 源的情况下直接使用 yum 命令安装 Docker.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备工作","aria-hidden":"true"}},[this._v("#")]),this._v(" 准备工作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"系统要求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统要求","aria-hidden":"true"}},[this._v("#")]),this._v(" 系统要求")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Docker CE 支持 64 位版本 CentOS 7，并且要求内核版本不低于 3.10。 CentOS 7 满足最低内核的要求，但由于内核版本比较低，部分功能（如 "),e("code",[this._v("overlay2")]),this._v(" 存储层驱动）无法使用，并且部分功能可能不太稳定。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"卸载旧版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载旧版本","aria-hidden":"true"}},[this._v("#")]),this._v(" 卸载旧版本")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("旧版本的 Docker 称为 "),e("code",[this._v("docker")]),this._v(" 或者 "),e("code",[this._v("docker-engine")]),this._v("，使用以下命令卸载旧版本：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-selinux \\\n                  docker-engine-selinux \\\n                  docker-engine\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用-yum-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-yum-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 yum 安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" -y yum-utils \\\n           device-mapper-persistent-data \\\n           lvm2\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("执行下面的命令添加 "),e("code",[this._v("yum")]),this._v(" 软件源：")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum-config-manager \\\n    --add-repo \\\n    https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 官方源")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo yum-config-manager \\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#     --add-repo \\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#     https://download.docker.com/linux/centos/docker-ce.repo")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum-config-manager --enable docker-ce-test\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum-config-manager --enable docker-ce-nightly\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"安装-docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-ce","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("更新 "),e("code",[this._v("yum")]),this._v(" 软件源缓存，并安装 "),e("code",[this._v("docker-ce")]),this._v("。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum makecache fast\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" docker-ce\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用脚本自动安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用脚本自动安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用脚本自动安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("curl")]),this._v(" -fsSL get.docker.com -o get-docker.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" sh get-docker.sh --mirror Aliyun\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"启动-docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动-docker-ce","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("enable")]),this._v(" docker\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl start docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"建立-docker-用户组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建立-docker-用户组","aria-hidden":"true"}},[this._v("#")]),this._v(" 建立 docker 用户组")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("建立 "),e("code",[this._v("docker")]),this._v(" 组：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("groupadd")]),this._v(" docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("将当前用户加入 "),e("code",[this._v("docker")]),this._v(" 组：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("usermod")]),this._v(" -aG docker "),e("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$USER")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"测试-docker-是否安装正确"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试-docker-是否安装正确","aria-hidden":"true"}},[this._v("#")]),this._v(" 测试 Docker 是否安装正确")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("docker run hello-world\n\nUnable to "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" image "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello-world:latest'")]),t._v(" locally\nlatest: Pulling from library/hello-world\nd1725b59e92d: Pull complete\nDigest: sha256:0add3ace90ecb4adbf7777e9aacf18357296e799f81cabc9fde470971e499788\nStatus: Downloaded newer image "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" hello-world:latest\n\nHello from Docker"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello-world"')]),t._v(" image from the Docker Hub.\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("amd64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n 3. The Docker daemon created a new container from that image "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" sent it\n    to your terminal.\n\nTo try something "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" ambitious, you can run an Ubuntu container with:\n docker run -it ubuntu "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n\nShare images, automate workflows, and "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" with a "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" Docker ID:\n https://hub.docker.com/\n\nFor "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" examples and ideas, visit:\n https://docs.docker.com/get-started/\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"镜像加速"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像加速","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像加速")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"添加内核参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加内核参数","aria-hidden":"true"}},[this._v("#")]),this._v(" 添加内核参数")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("WARNING: bridge-nf-call-iptables is disabled\nWARNING: bridge-nf-call-ip6tables is disabled\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" -a /etc/sysctl.conf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v("-EOF\nnet.bridge.bridge-nf-call-ip6tables "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 1\nnet.bridge.bridge-nf-call-iptables "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" 1\nEOF\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("然后重新加载 "),e("code",[this._v("sysctl.conf")]),this._v(" 即可")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" sysctl -p\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"参考文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文档","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考文档")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"macos-安装-docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#macos-安装-docker","aria-hidden":"true"}},[this._v("#")]),this._v(" MacOS 安装 Docker")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"系统要求-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统要求-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 系统要求")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"使用-homebrew-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-homebrew-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 Homebrew 安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("brew cask "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"手动下载安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#手动下载安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 手动下载安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://yeasy.gitbooks.io/docker_practice/content/install/_images/install-mac-dmg.png",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行","aria-hidden":"true"}},[this._v("#")]),this._v(" 运行")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://yeasy.gitbooks.io/docker_practice/content/install/_images/install-mac-apps.png",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://yeasy.gitbooks.io/docker_practice/content/install/_images/install-mac-menubar.png",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://yeasy.gitbooks.io/docker_practice/content/install/_images/install-mac-success.png",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://yeasy.gitbooks.io/docker_practice/content/install/_images/install-mac-menu.png",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("docker --version\nDocker version 18.09.0, build 4d60db4\ndocker-compose --version\ndocker-compose version 1.23.2, build 1110ad01\ndocker-machine --version\ndocker-machine version 0.16.0, build 702c267f\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("docker run -d -p 80:80 --name webserver nginx\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://yeasy.gitbooks.io/docker_practice/content/install/_images/install-mac-example-nginx.png",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("docker stop webserver\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("rm")]),this._v(" webserver\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"镜像加速-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像加速-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像加速")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"windows-10-pc-安装-docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows-10-pc-安装-docker-ce","aria-hidden":"true"}},[this._v("#")]),this._v(" Windows 10 PC 安装 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"系统要求-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统要求-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 系统要求")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"安装-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"运行-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 运行")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://yeasy.gitbooks.io/docker_practice/content/install/_images/install-win-docker-app-search.png",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://yeasy.gitbooks.io/docker_practice/content/install/_images/install-win-taskbar-circle.png",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://yeasy.gitbooks.io/docker_practice/content/install/_images/install-win-success-popup-cloud.png",alt:"img"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"镜像加速-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像加速-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像加速")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"ubuntu-安装-docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-安装-docker-ce","aria-hidden":"true"}},[this._v("#")]),this._v(" Ubuntu 安装 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("警告：切勿在没有配置 Docker APT 源的情况下直接使用 apt 命令安装 Docker.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"准备工作-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备工作-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 准备工作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"系统要求-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统要求-4","aria-hidden":"true"}},[this._v("#")]),this._v(" 系统要求")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Bionic 18.04 (LTS)")]),this._v(" "),e("li",[this._v("Xenial 16.04 (LTS)")]),this._v(" "),e("li",[this._v("Trusty 14.04 (LTS) (Docker CE v18.06 及以下版本)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"卸载旧版本-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载旧版本-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 卸载旧版本")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("旧版本的 Docker 称为 "),e("code",[this._v("docker")]),this._v(" 或者 "),e("code",[this._v("docker-engine")]),this._v("，使用以下命令卸载旧版本：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("apt-get")]),this._v(" remove docker \\\n               docker-engine \\\n               docker.io\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"ubuntu-14-04-可选内核模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-14-04-可选内核模块","aria-hidden":"true"}},[this._v("#")]),this._v(" Ubuntu 14.04 可选内核模块")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("从 Ubuntu 14.04 开始，一部分内核模块移到了可选内核模块包 ("),e("code",[this._v("linux-image-extra-*")]),this._v(") ，以减少内核软件包的体积。正常安装的系统应该会包含可选内核模块包，而一些裁剪后的系统可能会将其精简掉。"),e("code",[this._v("AUFS")]),this._v(" 内核驱动属于可选内核模块的一部分，作为推荐的 Docker 存储层驱动，一般建议安装可选内核模块包以使用 "),e("code",[this._v("AUFS")]),this._v("。")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" \\\n    linux-image-extra-"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uname")]),t._v(" -r"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" \\\n    linux-image-extra-virtual\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"ubuntu-16-04"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-16-04","aria-hidden":"true"}},[this._v("#")]),this._v(" Ubuntu 16.04 +")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Ubuntu 16.04 + 上的 Docker CE 默认使用 "),e("code",[this._v("overlay2")]),this._v(" 存储层驱动,无需手动配置。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用-apt-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-apt-安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 APT 安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("由于 "),e("code",[this._v("apt")]),this._v(" 源使用 HTTPS 以确保软件下载过程中不被篡改。因此，我们首先需要添加使用 HTTPS 传输的软件包以及 CA 证书。")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" \\\n    apt-transport-https \\\n    ca-certificates \\\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" \\\n    software-properties-common\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("为了确认所下载软件包的合法性，需要添加软件源的 "),e("code",[this._v("GPG")]),this._v(" 密钥。")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-key add -\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 官方源")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("然后，我们需要向 "),e("code",[this._v("source.list")]),this._v(" 中添加 Docker 软件源")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" add-apt-repository \\\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu \\\n    '),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("lsb_release -cs"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(' \\\n    stable"')]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 官方源")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo add-apt-repository \\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#    "deb [arch=amd64] https://download.docker.com/linux/ubuntu \\')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#    $(lsb_release -cs) \\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#    stable"')]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("以上命令会添加稳定版本的 Docker CE APT 镜像源，如果需要测试或每日构建版本的 Docker CE 请将 stable 改为 test 或者 nightly。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"安装-docker-ce-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-ce-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("更新 apt 软件包缓存，并安装 "),e("code",[this._v("docker-ce")]),this._v("：")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" docker-ce\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用脚本自动安装-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用脚本自动安装-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用脚本自动安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("curl")]),this._v(" -fsSL get.docker.com -o get-docker.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" sh get-docker.sh --mirror Aliyun\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"启动-docker-ce-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动-docker-ce-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("enable")]),this._v(" docker\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl start docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("service")]),this._v(" docker start\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"建立-docker-用户组-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建立-docker-用户组-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 建立 docker 用户组")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("建立 "),e("code",[this._v("docker")]),this._v(" 组：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("groupadd")]),this._v(" docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("将当前用户加入 "),e("code",[this._v("docker")]),this._v(" 组：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("usermod")]),this._v(" -aG docker "),e("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$USER")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"测试-docker-是否安装正确-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试-docker-是否安装正确-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 测试 Docker 是否安装正确")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("docker run hello-world\n\nUnable to "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" image "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello-world:latest'")]),t._v(" locally\nlatest: Pulling from library/hello-world\nd1725b59e92d: Pull complete\nDigest: sha256:0add3ace90ecb4adbf7777e9aacf18357296e799f81cabc9fde470971e499788\nStatus: Downloaded newer image "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" hello-world:latest\n\nHello from Docker"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello-world"')]),t._v(" image from the Docker Hub.\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("amd64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n 3. The Docker daemon created a new container from that image "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" sent it\n    to your terminal.\n\nTo try something "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" ambitious, you can run an Ubuntu container with:\n docker run -it ubuntu "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n\nShare images, automate workflows, and "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" with a "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" Docker ID:\n https://hub.docker.com/\n\nFor "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" examples and ideas, visit:\n https://docs.docker.com/get-started/\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"镜像加速-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像加速-4","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像加速")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"参考文档-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文档-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考文档")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"debian-安装-docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debian-安装-docker-ce","aria-hidden":"true"}},[this._v("#")]),this._v(" Debian 安装 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("警告：切勿在没有配置 Docker APT 源的情况下直接使用 apt 命令安装 Docker.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"准备工作-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备工作-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 准备工作")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"系统要求-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统要求-5","aria-hidden":"true"}},[this._v("#")]),this._v(" 系统要求")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Buster 10")]),this._v(" "),e("li",[this._v("Stretch 9")]),this._v(" "),e("li",[this._v("Jessie 8 (LTS) (Docker CE v18.06 及以下版本)")]),this._v(" "),e("li",[this._v("Wheezy 7.7 (EOL) (Docker CE v18.03 及以下版本)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"卸载旧版本-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#卸载旧版本-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 卸载旧版本")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("旧版本的 Docker 称为 "),e("code",[this._v("docker")]),this._v(" 或者 "),e("code",[this._v("docker-engine")]),this._v("，使用以下命令卸载旧版本：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("apt-get")]),this._v(" remove docker \\\n               docker-engine \\\n               docker.io\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"debian-7-wheezy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debian-7-wheezy","aria-hidden":"true"}},[this._v("#")]),this._v(" Debian 7 Wheezy")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用-apt-安装-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-apt-安装-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 APT 安装")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" \\\n     apt-transport-https \\\n     ca-certificates \\\n     "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" \\\n     gnupg2 \\\n     lsb-release \\\n     software-properties-common\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" \\\n     apt-transport-https \\\n     ca-certificates \\\n     "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" \\\n     lsb-release \\\n     python-software-properties\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/debian/gpg "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-key add -\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 官方源")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("然后，我们需要向 "),e("code",[this._v("source.list")]),this._v(" 中添加 Docker CE 软件源：")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" add-apt-repository \\\n   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/debian \\\n   '),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("lsb_release -cs"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(' \\\n   stable"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 官方源")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sudo add-apt-repository \\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#    "deb [arch=amd64] https://download.docker.com/linux/debian \\')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#    $(lsb_release -cs) \\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#    stable"')]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("以上命令会添加稳定版本的 Docker CE APT 源，如果需要测试或每日构建版本的 Docker CE 请将 stable 改为 test 或者 nightly。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("编辑 "),e("code",[this._v("/etc/apt/sources.list")]),this._v(" 将 deb-src 一行删除或者使用 # 注释。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("deb-src "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("arch"),e("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),this._v("amd64"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),this._v(" https://download.docker.com/linux/debian wheezy stable\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"安装-docker-ce-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-ce-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("更新 apt 软件包缓存，并安装 "),e("code",[this._v("docker-ce")]),this._v("。")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" docker-ce\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"使用脚本自动安装-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用脚本自动安装-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用脚本自动安装")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("curl")]),this._v(" -fsSL get.docker.com -o get-docker.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" sh get-docker.sh --mirror Aliyun\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"启动-docker-ce-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动-docker-ce-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动 Docker CE")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("enable")]),this._v(" docker\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl start docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("service")]),this._v(" docker start\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"建立-docker-用户组-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建立-docker-用户组-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 建立 docker 用户组")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("建立 "),e("code",[this._v("docker")]),this._v(" 组：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("groupadd")]),this._v(" docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("将当前用户加入 "),e("code",[this._v("docker")]),this._v(" 组：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("usermod")]),this._v(" -aG docker "),e("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$USER")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"测试-docker-是否安装正确-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试-docker-是否安装正确-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 测试 Docker 是否安装正确")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("docker run hello-world\n\nUnable to "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" image "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello-world:latest'")]),t._v(" locally\nlatest: Pulling from library/hello-world\nd1725b59e92d: Pull complete\nDigest: sha256:0add3ace90ecb4adbf7777e9aacf18357296e799f81cabc9fde470971e499788\nStatus: Downloaded newer image "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" hello-world:latest\n\nHello from Docker"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello-world"')]),t._v(" image from the Docker Hub.\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("amd64"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n 3. The Docker daemon created a new container from that image "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" sent it\n    to your terminal.\n\nTo try something "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" ambitious, you can run an Ubuntu container with:\n docker run -it ubuntu "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v("\n\nShare images, automate workflows, and "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" with a "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" Docker ID:\n https://hub.docker.com/\n\nFor "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("more")]),t._v(" examples and ideas, visit:\n https://docs.docker.com/get-started/\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"镜像加速-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像加速-5","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像加速")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"参考文档-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文档-3","aria-hidden":"true"}},[this._v("#")]),this._v(" 参考文档")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"镜像加速器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#镜像加速器","aria-hidden":"true"}},[this._v("#")]),this._v(" 镜像加速器")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("当配置某一个加速器地址之后，若发现拉取不到镜像，请切换到另一个加速器地址。")]),this._v(" "),e("p",[this._v("国内各大云服务商均提供了 Docker 镜像加速服务，建议根据运行 Docker 的云平台选择对应的镜像加速服务。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("我们以 Docker 官方加速器 "),e("code",[this._v("https://registry.docker-cn.com")]),this._v(" 为例进行介绍。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"ubuntu-14-04、debian-7-wheezy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-14-04、debian-7-wheezy","aria-hidden":"true"}},[this._v("#")]),this._v(" Ubuntu 14.04、Debian 7 Wheezy")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("DOCKER_OPTS"),e("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[this._v('"--registry-mirror=https://registry.docker-cn.com"')]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("service")]),this._v(" docker restart\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"ubuntu-16-04-、debian-8-、centos-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-16-04-、debian-8-、centos-7","aria-hidden":"true"}},[this._v("#")]),this._v(" Ubuntu 16.04+、Debian 8+、CentOS 7")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"registry-mirrors"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://registry.docker-cn.com"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("注意，一定要保证该文件符合 json 规范，否则 Docker 将不能启动。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl daemon-reload\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("sudo")]),this._v(" systemctl restart docker\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("注意：如果您之前查看旧教程，修改了 "),e("code",[this._v("docker.service")]),this._v(" 文件内容，请去掉您添加的内容（"),e("code",[this._v("--registry-mirror=https://registry.docker-cn.com")]),this._v("），这里不再赘述。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"windows-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#windows-10","aria-hidden":"true"}},[this._v("#")]),this._v(" Windows 10")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("对于使用 Windows 10 的系统，在系统右下角托盘 Docker 图标内右键菜单选择 "),s("code",[t._v("Settings")]),t._v("，打开配置窗口后左侧导航菜单选择 "),s("code",[t._v("Daemon")]),t._v("。在 "),s("code",[t._v("Registry mirrors")]),t._v(" 一栏中填写加速器地址 "),s("code",[t._v("https://registry.docker-cn.com")]),t._v("，之后点击 "),s("code",[t._v("Apply")]),t._v(" 保存后 Docker 就会重启并应用配置的镜像地址了。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"macos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#macos","aria-hidden":"true"}},[this._v("#")]),this._v(" macOS")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("对于使用 macOS 的用户，在任务栏点击 Docker for mac 应用图标 -> Perferences... -> Daemon -> Registry mirrors。在列表中填写加速器地址 "),e("code",[this._v("https://registry.docker-cn.com")]),this._v("。修改完成之后，点击 "),e("code",[this._v("Apply & Restart")]),this._v(" 按钮，Docker 就会重启并应用配置的镜像地址了。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"检查加速器是否生效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检查加速器是否生效","aria-hidden":"true"}},[this._v("#")]),this._v(" 检查加速器是否生效")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("命令行执行 "),e("code",[this._v("docker info")]),this._v("，如果从结果中看到了如下内容，说明配置成功。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("Registry Mirrors:\n https://registry.docker-cn.com/\n")])])])}],!1,null,null,null);a.options.__file="Install.md";e.default=a.exports}}]);